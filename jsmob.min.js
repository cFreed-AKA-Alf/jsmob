/*---------------------------------------------------------------------#
#          *** Briethings *** - Licensed under the EUPL v1.1           #
# https://joinup.ec.europa.eu/system/files/FR/EUPL v.1.1 - Licence.pdf #
#---------------------------------------------------------------------*/
(function(){if(typeof $=='undefined'){$=jQuery.noConflict()}var o=[],_uniqueid=0;var p={Break:'breakPoint',Col:'rank',LM:'leftMargin',Pad:'padding',RM:'rightMargin',Width:'baseWidth',},_constants=['Active','Auto','Col','Block','Ddt','Fixed','Id','LWD','Main','Menu','Mnt','Open','Opt','Rootmenu','Stack','Submenu','Zoom',],_params={baseWidth:1024,breakPoint:480,padding:3,blindBuild:0,cssTimeout:5,prefix:'%',debug:0,liveshow:0,vscroll:0,},_templates={Block:function(a){this.id=a.id;this.tag=a.tagName;this.autoMargins=false;this.baseWidth=_params.baseWidth;this.breakPoint=_params.breakPoint;this.cols=[];this.colsWidth=0;this.fixedWidth=0},Col:function(a){this.id=a.id;this.tag=a.tagName;this.rank=0;this.baseWidth=0;this.fixed=false;this.leftMargin=0;this.rightMargin=0},};var q=_params.prefix;var r=q.replace(/([^-_0-9A-Za-z])/g,'\\$1');var s='';for(var i=0,n=q.length;i<n;i++){s+='['+q[i].replace(/([\^\]\-\\])/,'\\$1')+']'}var t='';for(var i in _constants){var u=_constants[i];var w=u.toUpperCase();t+='var '+w+'=PREFIX+"'+u+'";jq'+w+'="."+safePREFIX+"'+u+'";'}eval(t);$(document).ready(function(){try{var a=$('script[src*=jsmob\\.]').attr('src').match(/[^?=&]+=[^&=]+/g);for(var i in a){var b=a[i].match(/^(.+)=(.+)$/);if(typeof _params[b[1]]!='undefined'){var c=typeof _params[b[1]]=='number'?parseInt(b[2]):b[2];_params[b[1]]=c}}}catch(e){}$('#js_hidden_part').add($('#js_hidden_part').siblings('script,noscript')).remove();if(_params.blindBuild){$('body').append($('<div id="jsmob-cache" />').css({position:'fixed',width:'100%',height:'100%',top:0,left:0,zIndex:999999,backgroundColor:'#fff'}))}I(document.getElementsByTagName('body')[0],_params);if(_params.debug){A('Configuration',_params)}$(window).bind('load',x)});var x=function(){$(jqMENU).each(function(i){if(!$(this).closest(jqBLOCK).length){$(this).addClass(BLOCK)}});$(jqBLOCK).each(function(){var b=C(this,'Block');I(this,b);if($(this).hasClass(AUTO)){b.autoMargins=true}$(jqCOL,this).each(function(i){var a=C(this,'Col');I(this,a);b.colsWidth+=a.baseWidth;if($(this).hasClass(FIXED)){a.fixed=true;b.fixedWidth+=a.baseWidth}if(b.autoMargins){a.leftMargin=0;a.rightMargin=0}a.rank=a.rank?(a.rank-1):i;a.outWidth=Math.round(parseFloat($(this).css('borderLeftWidth')))+Math.round(parseFloat($(this).css('borderRightWidth')))+Math.round(parseFloat($(this).css('paddingLeft')))+Math.round(parseFloat($(this).css('paddingRight')));b.cols.push(a)});o.push(b)});if(o.length){if(!$('meta[name=viewport]').length){$('head').append('<meta name="viewport" content="width=device-width">      ')}var d=y();for(var e in o){block=o[e];d+=z(block);var f=block.baseWidth-block.fixedWidth;var g=0;if(block.autoMargins){var h=block.baseWidth-block.colsWidth;var j=block.cols.length-1;var g=Math.floor(h/j);h-=g*j}for(var k in block.cols){var l=block.cols[k];if(!l.fixed){l.ownPart=l.baseWidth/f}if(block.autoMargins&&k<block.cols.length-1){l.rightMargin=g;if(h){l.rightMargin++;h--}}l.LMPart=l.leftMargin/f;l.RMPart=l.rightMargin/f}}$('head').append('<style>'+d+'<\/style>');if(_params.liveshow){D($('body'),'body');for(var e in o){D($('#'+o[e].id),'block',{blockNo:e});for(var k in o[e].cols){D($('#'+o[e].cols[k].id),'col',{blockNo:e,colNo:k})}}}}var m=false;$(jqMENU).each(function(i){var a=$(this).is('ul')?$(this):$(this).find('ul:first');a.addClass(ROOTMENU);if($(this).hasClass(MAIN)){if(m){console.warn('%Menu%Main defined more than once, toggled to simple menu')}else{m=true;var b=$(this).closest(jqBLOCK)[0];G(b);E(a[0],b.id)}}a.find('ul').each(function(){$(this).addClass(SUBMENU);B($(this).prev())})});$(jqZOOM).each(function(){var c=function(a){var b={baseWidth:a.naturalWidth};I(a,b);$(a).css({maxWidth:b.baseWidth});if(_params.liveshow){G(a);D($(a),'zoom')}};if(this.tagName=='IMG'){c(this)}else{$('img',this).each(function(){c(this)})}});if(_params.debug){A('Found '+o.length+' block(s)',o)}$(window).resize(L);$(document).scroll(K);setTimeout('$(window).resize()',_params.cssTimeout)};var y=function(){var a='/*\nBlocks and Cols defaults: FULL LAYOUT\n--------------------------------------*/\nimg'+jqZOOM+', '+jqZOOM+' img {\n  width: 100% !important; /* supersedes any existing width definition */\n}\n'+jqBLOCK+'>img'+jqZOOM+', '+jqBLOCK+jqZOOM+'>img {\n  display: block !important; /* when <img>\'s parent has position:relative */\n}\n'+jqBLOCK+' {\n  margin: 0 auto !important;\n  position: relative !important;\n  float: none !important;\n  width: 100% !important; /* supersedes any existing width definition */\n}\n'+jqBLOCK+' '+jqCOL+' {\n  /* redundant: avoids addressing lonely '+jqCOL+'\'s, if any */\n  position: relative !important;\n  float: none !important;\n  display: inline-block !important;\n  vertical-align: top !important;\n}\n/*\nBlocks and Cols: REDUCED LAYOUT\n-------------------------------*/\n'+jqBLOCK+jqSTACK+' {\n    margin: 0 '+_params.padding+'px !important;\n    width: auto !important;\n}\n'+jqSTACK+' '+jqCOL+' {\n  display: block !important;\n  left: 0 !important;\n  width: 100% !important;\n  /* don\'t consume horizontal space: */\n  margin-left: 0 !important;\n  margin-right: 0 !important;\n  border-left-width: 0 !important;\n  border-right-width: 0 !important;\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n  /* don\'t leave vertical space unused: */\n  min-height: 0 !important;\n}\n/*\nMenus: REDUCED LAYOUT\n----------------------*/\n'+jqMNT+' {\n  position: fixed;\n  right: 7px;\n  top: 7px;\n  border-radius: 4px;\n  /* box-shadow: 5px 5px 2px #888; */\n  background-color: #333;\n  padding: 8px;\n  color: #fff;\n  font-size: x-large;\n  font-weight: bold;\n  z-index: 99999;\n  cursor: pointer;\n}\n'+jqMNT+jqACTIVE+' {\n  box-shadow: 1px 1px 2px #000 inset;\n  background-color: #aaa;\n  color: #444;\n}\n/* For DDT button, thanks to https://drupal.org/project/rubix-responsive-theme */\n'+jqDDT+' {\n  background: none repeat scroll 0 0 #555 !important;\n  border: 5px solid #888 !important;\n  border-radius: 15px !important;\n  height: 20px !important;\n  position: absolute !important;\n  left: 5px !important;\n  top: 2px !important;\n  width: 20px !important;\n  z-index: 9999;\n  cursor: pointer;\n}\n'+jqDDT+'>span {\n  border-left: 5px solid rgba(0, 0, 0, 0) !important;\n  border-right: 5px solid rgba(0, 0, 0, 0) !important;\n  border-top: 5px solid #aaa !important;\n  display: block !important;\n  height: 0 !important;\n  margin: 8px 0 0 5px !important;\n  width: 0 !important;\n}\n'+jqROOTMENU+' {\n  width: 100% !important;\n}\n/*\nWhen %Stack, all %Menu components (%Rootmenu, %Submenu and their embedded\n<li>, <div> and <a>) must remain independant of the original CSS */\n'+jqSTACK+' '+jqROOTMENU+', '+jqSTACK+jqROOTMENU+', '+jqSTACK+' '+jqSUBMENU+',\n'+jqSTACK+' '+jqROOTMENU+' li, '+jqSTACK+jqROOTMENU+' li {\n  float: none !important;\n  position: static !important;\n  width: 100% !important;\n  margin: 0 !important;\n  padding: 0 !important;\n}\n/*\nSet <div> and <a> hard-fixed dims, ensuring a correct positioning of DDT\'s */\n'+jqSTACK+' '+jqROOTMENU+' div, '+jqSTACK+jqROOTMENU+' div,\n'+jqSTACK+' '+jqROOTMENU+' a, '+jqSTACK+jqROOTMENU+' a {\n  margin: 0 !important;\n  width: 100% !important;\n  padding: 12px 0 12px 40px !important;\n  font-size: 11px !important;\n}\n'+jqSTACK+' '+jqSUBMENU+' {\n  display: none !important;\n  /* supersedes native "ul li:hover ul {display: block}" */\n}\n'+jqSTACK+' '+jqSUBMENU+jqOPEN+' {\n  display: block !important;\n}\n'+jqSTACK+' '+jqDDT+' {\n  display: inline !important;\n}\n/*\nTables: REDUCED LAYOUT\n-----------------------*/\n'+jqSTACK+' table {\n  word-break: break-all !important;\n}\n/*\nAnything %Opt: REDUCED LAYOUT\n------------------------------\n>>> KEEP this specification LAST! (must supersede any other one) */\n'+jqSTACK+' '+jqOPT+','+jqSTACK+jqOPT+',\n'+jqSTACK+' '+jqOPT+' img,'+jqSTACK+jqOPT+' img,'+jqSTACK+' img'+jqOPT+' {\n  display: none !important;\n}\n';if(_params.liveshow){a+='/*\nLive indicators (when liveshow=1)\n----------------------------------*/\n'+jqLWD+' {\n  position: fixed;\n  border-radius: 3px;\n  background-color: #f66;\n  color: #fff;\n  font-weight: bold;\n  padding: .2em .5em;\n  opacity: .7;\n  z-index: 9999;\n}\n'+jqLWD+' span {\n  color: #444;\n  font-weight: bold;\n}\n#\\'+LWD+' {\n  position: fixed;\n  border-radius: 5px;\n  background-color: #ffc;\n  padding: 0 1em;\n  z-index: 999;\n}\n#\\'+LWD+' * {\n  font-family: "Courier New";\n}\n'}if(!_params.vscroll){a+='/*\nHide vertical scroll bar (when vscroll=0)\n------------------------------------------*/\nbody {\n  overflow: hidden; /* simulate mobile device */\n}\n'}a+='/*\nIndividual defaults for full layout\n-----------------------------------*/\n';return a};var z=function(a){return'#'+a.id+' {\n  max-width: '+a.baseWidth+'px !important;\n}\n'};var A=function(a,b){if(!window.console){return}if(arguments.length<2){b=a;a=''}if(a){console.group(a)}switch(typeof b){case'object':if($.isArray(b)){console.table(b)}else{console.dir(b)}break;default:console.info(b)}if(a){console.groupEnd()}};var B=function(c){c.css({position:'relative'}).append($('<span \/>').addClass(DDT).css({display:'none',}).append($('<span \/>')).click(function(a){var b=$(a.target).closest('li').find(jqSUBMENU);b.toggleClass(OPEN);$(jqOPEN).not(b).removeClass(OPEN);setTimeout(K,_params.cssTimeout);return false}))};var C=function(a,b){G(a);return new _templates[b](a)};var D=function(b,c,d){if(!$('#'+r+r).length){$('body').append($('<div \/>').attr('id',q+q))}var e=$('<div \/>').appendTo($('#'+r+r));e.addClass(LWD).css({cursor:(d?'pointer':'help')}).html(c+' <span \/>').attr({id:q+b[0].id,'data-ident':c,title:function(){with(b[0]){var a=className.match(new RegExp(s+'[^ ]+','g'));return(tagName+(!!a?('#'+id+'.'+a.join(' ')):''))}}});if(d){b.attr({'data-block':d.blockNo,'data-col':d.colNo});e.click(J)}};var E=function(b,c){G(b);$('body').append($('<img \/>').addClass(MNT).css({display:'none'}).attr({alt:'',src:'data:image/gif;base64,\ R0lGODlhEwATAJEDAIuLi////8HBwf///yH5BAEAAAMALAAAAAATABMAAAIrhI6pZ+EPoxNmWQSG3rz7D4biSJZcdVmNxD5UemXmTNe2icLJ2rKvrgAUAAA7','data-menu':b.id,'data-block':c}).click(function(a){$(jqMENU+jqMAIN).toggle();$(a.target).toggleClass(ACTIVE);if($(a.target).hasClass(ACTIVE)){window.scrollTo(0,0)}else{$(jqOPEN).removeClass(OPEN)}setTimeout(K,_params.cssTimeout)}))};var F=function(a,b){var c=[];$('#'+a.id+' .\\%Col').each(function(){c.push({id:this.id,posTop:$(this).position().top,posLeft:$(this).position().left-Math.round(parseFloat(getComputedStyle(this).left)),outWidth:$(this).outerWidth(true),})});A(b+' (inWidth:'+$('#'+a.id).innerWidth()+')',c)};var G=function(a){if(!a.id){a.id=ID+(++_uniqueid)}};var H=function(a,b){var c=document.getElementById(b.id).outerHTML.match(/^<[^>]+>/)[0];var d=document.getElementById(a.id);d.innerHTML=d.innerHTML.replace(new RegExp('(^|>)[ \n\r\t]+'+c),'$1'+c)};var I=function(a,b){var c=a.className.match(new RegExp(s+'[a-z]+[-_]?\\d+','gi'));for(var i in c){var d=c[i].match(new RegExp(s+'(.+)_(.+)'));var e=p[d[1]];if(typeof e!='undefined'){b[e]=+d[2]}else{if(_params.debug){console.warn('Unknown classid "'+d[1]+'" in class "'+c[i]+'" of element "#'+a.id+'"')}}}};var J=function(){$('#\\'+LWD).remove();var a=$('<div \/>').appendTo($('#'+r+r));a.attr('id',LWD).css({top:($(this).position().top+$(this).outerHeight())+'px',left:$(this).position().left+'px'}).append('<p>'+this.title+'<\/p><hr />').click(function(){$('#\\'+LWD).remove()});var b=document.getElementById(this.id.substr(1));var c=o[b.dataset['block']];switch(type=this.innerHTML.match(/^([^ ]+) /)[1]){case'block':data=JSON.stringify(c,function(k,v){return(k=='cols'?undefined:v)},2);break;case'col':var d=c.cols[b.dataset['col']];data=JSON.stringify(d,null,2);break}a.append($('<pre />').html(data))};var K=function(){if(_params.liveshow){$(jqLWD).each(function(){var a=$(document.getElementById(this.id.substr(1)));if(!a.length){a=$('body')}$(this).toggle(a.is(':visible'));$(this).find('span').html(a.outerWidth());switch(this.dataset.ident){case'body':$(this).css({top:0,left:'50%'});break;case'block':$(this).offset({top:a[0].offsetTop,left:a[0].offsetLeft+a.outerWidth()-$(this).outerWidth(),});break;case'col':$(this).offset(a.offset());break;case'zoom':$(this).offset({top:a.offset().top+(a.outerHeight()-$(this).outerHeight())/2,left:a.offset().left+(a.outerWidth()-$(this).outerWidth())/2,});break}})}};var L=function(){var a=$('body').innerWidth();for(var i in o){var b=o[i];if(a<=b.breakPoint){$('#'+b.id).addClass(STACK);continue}$('#'+b.id).removeClass(STACK);if(!b.cols.length){continue}var c=[];var d=Math.min(a,b.baseWidth);var f=d-b.fixedWidth;for(var j in b.cols){var g=b.cols[j];c[g.rank]=j;g.curWidth=g.fixed?g.baseWidth:Math.round((g.ownPart*f));g.curLM=Math.round(g.LMPart*f);g.curRM=Math.round(g.RMPart*f);d-=(g.curWidth+g.curLM+g.curRM)}while(d<0){for(var j in b.cols){g=b.cols[j];if(!g.fixed){g.curWidth--;d++}if(d==0){break}}}var h=0,left;for(var k in c){var l=c[k];g=b.cols[l];if(l>k){left=0;while(l>0){with(b.cols[--l]){left-=(curWidth+curLM+curRM)}};h+=g.curWidth}else{left=h}$('#'+g.id).css({left:left+'px',width:(g.curWidth-g.outWidth)+'px',marginLeft:g.curLM+'px',marginRight:g.curRM+'px',})}}try{var m=$('#\\'+$(jqMNT).data('block')).hasClass(STACK);$(jqMNT).toggle(m);$('#\\'+$(jqMNT).data('menu')).parent().toggle(!m||$(jqMNT).hasClass(ACTIVE))}catch(e){}setTimeout(K,_params.cssTimeout);$('#jsmob-cache').remove()}}())